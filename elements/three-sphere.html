<script>
    (function() {
        var geoms = {
            "Sphere": ["radius", "widthSegments", "heightSegments", "phiStart", "phiLength", "thetaStart", "thetaLength"],
            "Cube": []
        };
        
        Object.keys(geoms).forEach(function(type) {
            var defaults = new THREE[type+"Geometry"](),
                GeomPoly = {
                    args: geoms[type],
                    type: type,
                    ready: function() {
                        if(!this.three) {
                            var args = this.args.map(function(key) { return this[key]; }.bind(this));
                            this.three = POLYTHREE.bindConstructor(THREE[this.type+"Geometry"], args);
                        }
                    }
                };
            
            geoms[type].forEach(function(key) { 
                GeomPoly[key] = defaults[key];
            });
            
            Polymer("three-"+type.toLowerCase(), GeomPoly);
            var el = document.createElement("div");
            el.innerHTML = '\
                <polymer-element name="three-'+type.toLowerCase()+'" attributes="'+geoms[type].join(" ")+'"></polymer-element>';
            document.body.appendChild(el);
        });
    } ());
</script>